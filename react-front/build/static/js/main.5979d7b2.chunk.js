(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,a){e.exports=a(354)},145:function(e,t,a){},147:function(e,t,a){},149:function(e,t,a){},309:function(e,t,a){},311:function(e,t,a){},324:function(e,t,a){},327:function(e,t,a){},334:function(e,t,a){},336:function(e,t,a){},338:function(e,t,a){},340:function(e,t,a){},342:function(e,t,a){},344:function(e,t,a){},346:function(e,t,a){},348:function(e,t,a){},350:function(e,t,a){},354:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(30),o=a.n(i),r=(a(145),a(8)),c=a(9),s=a(11),u=a(10),m=a(12),h=a(358),d=a(359),p=a(357),v=a(44),f=a(18),E=a(23),g=a.n(E),b=a(13),y=a.n(b),C=a(35),S=a.n(C),j=a(36),O=a.n(j);a(147);var k=a(355),w=a(127),T=a.n(w),D=a(128),_=a.n(D),A=a(17),I=a.n(A),N=a(26),L=a.n(N),M=a(129),W=a.n(M),G=a(130),P=a.n(G),x=a(24),J=a.n(x),F=(a(149),function(e){function t(e,a){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e,a))).componentDidMount=function(){fetch("http://localhost:5000/auth/authenticate",{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return n.setState({user:JSON.stringify(e)})}).catch(function(e){return console.log(e)})},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.display_user_info=function(e){if(null!=n.state.user){var t=e.privileges;e.username;return l.a.createElement("div",null," ",t," ")}return null},n.display_admin_menu=function(e){return e&&"sysadmin"===e.privileges?l.a.createElement(J.a,{onClick:n.handleClose},l.a.createElement(k.a,{className:"nav-link",to:"users"},"dans le futur page admin")):null},n.handleClick=n.handleClick.bind(Object(f.a)(Object(f.a)(n))),n.handleClose=n.handleClose.bind(Object(f.a)(Object(f.a)(n))),n.componentDidMount=n.componentDidMount.bind(Object(f.a)(Object(f.a)(n))),n.display_user_info=n.display_user_info.bind(Object(f.a)(Object(f.a)(n))),n.state={anchorEl:null,user:null},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(e){var t=JSON.parse(this.state.user);return l.a.createElement("div",{className:"container"},l.a.createElement(T.a,{position:"static"},l.a.createElement(_.a,null,l.a.createElement(L.a,{color:"inherit","aria-label":"Menu","aria-owns":this.anchorEl?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},l.a.createElement(W.a,null)),l.a.createElement(P.a,{id:"simple-menu",anchorEl:this.state.anchorEl,open:Boolean(this.state.anchorEl),onClose:this.handleClose},l.a.createElement(J.a,{onClick:this.handleClose},l.a.createElement(k.a,{className:"nav-link",to:"/actions"},"Home")),l.a.createElement(J.a,{onClick:this.handleClose},l.a.createElement(k.a,{className:"nav-link",to:"/applis"},"Applications")),l.a.createElement(J.a,{onClick:this.handleClose},l.a.createElement(k.a,{className:"nav-link",to:"/vms"},"Virtuals Machines")),this.display_admin_menu(t)),l.a.createElement(I.a,{variant:"h6",color:"inherit"},"ViKi, Virtual Machines Manager"),this.display_user_info(t),l.a.createElement("div",{className:"children"},this.props.children))))}}]),t}(l.a.Component)),V=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(v.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.validateForm()?a.login(a.state.username,a.state.password):alert("invalid submission")},a.state={loggedin:!1,username:"",password:"",submitted:!1},a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(Object(f.a)(a))),a.logout=a.logout.bind(Object(f.a)(Object(f.a)(a))),a.login=a.login.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e,t){var a=this;return localStorage.clear(),function(e,t){localStorage.clear();var a={credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("http://localhost:5000/auth/authenticate",a).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}(e,t).then(function(t){if(t.name===e)return localStorage.setItem("user",JSON.stringify(t)),console.log("succes ?"),a.setState({loggedin:!0}),console.log(a.state.loggedin),t})}},{key:"validateForm",value:function(){return this.state.username.length>0&&this.state.password.length>0}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"redirect",value:function(){return this.state.loggedin?l.a.createElement(p.a,{from:"/login",to:"/actions/"}):null}},{key:"render",value:function(){return l.a.createElement("div",{className:"Login"},this.redirect(),l.a.createElement(F,null),l.a.createElement(S.a,{id:"loginForm"},l.a.createElement(O.a,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(g.a,{id:"username",label:"Username",value:this.state.username,onChange:this.handleChange,margin:"normal"}),l.a.createElement(g.a,{id:"password",label:"Password",type:"password",value:this.state.password,onChange:this.handleChange,margin:"normal"}),l.a.createElement(y.a,{variant:"contained",color:"primary",type:"submit",onClick:this.handleSubmit},"Login")))),l.a.createElement("form",{onSubmit:this.logout},l.a.createElement(y.a,{block:!0,bsSize:"large",type:"submit"},"Logout")))}}]),t}(l.a.Component),B=function(){return localStorage.clear(),l.a.createElement("div",null,l.a.createElement("h1",null,"Vous avez \xe9t\xe9 d\xe9connect\xe9!"),l.a.createElement("p",null,"Retour \xe0 la ",l.a.createElement("a",{href:"/login"},"page d'accueil")))},U=a(139),H=function(e){var t=e.component,a=Object(U.a)(e,["component"]);return l.a.createElement(d.a,Object.assign({},a,{render:function(e){return localStorage.getItem("user")?l.a.createElement(t,e):l.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},K=a(45),z=a.n(K),R=a(132),Q=a.n(R),$=a(133),q=a.n($),X=a(91),Y=a.n(X),Z=a(90),ee=a.n(Z),te=a(131),ae=a.n(te),ne="http://localhost:5000/content-dev/chat-back";var le=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={newMessage:"",messages:[],el:null},a.handleInputChange=function(e){a.setState({newMessage:e.target.value})},a.handleSubmit=function(){(function(e){console.log("POST message");var t={credentials:"include",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"},body:JSON.stringify({chat:e})};return fetch(ne+"/add",t).then(function(e){return console.log(e),e.json()})})(a.state.newMessage).then(function(e){console.log(e.chat);var t=a.state.messages.concat([e]);a.setState({messages:t})}),a.setState({newMessage:""})},a.handleKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),a.handleSubmit())},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"read",value:function(e){var t=this;(console.log("GET message"),fetch(ne,{credentials:"include",method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"}}).then(function(e){return console.log(e),e.json()})).then(function(e){for(var a in e){var n=e[a],l=t.state.messages.concat([n]);t.setState({messages:l})}})}},{key:"componentWillMount",value:function(){this.read()}},{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"scrollToBottom",value:function(){this.el.scrollIntoView({behavior:"instant",block:"end"})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"ChatContainer",className:"chat-container"},l.a.createElement(S.a,null,l.a.createElement(O.a,null,l.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"Chat"),l.a.createElement(Y.a,{dense:!0,style:{maxHeight:200,overflow:"auto"}},l.a.createElement("div",{ref:function(t){e.el=t}},this.state.messages.map(function(e){return l.a.createElement(ee.a,{key:e._id,className:"message"},l.a.createElement(ae.a,{primary:e.chat,secondary:"message.user"}))})))),l.a.createElement(Q.a,{id:"chat-input"},l.a.createElement(g.a,{onKeyDown:this.handleKeyDown.bind(this),placeholder:"Add your message...",value:this.state.newMessage,onChange:this.handleInputChange.bind(this)}),l.a.createElement(y.a,{size:"small",variant:"contained",color:"primary",onClick:this.handleSubmit.bind(this),onKeyDown:this.handleKeyDown.bind(this)},"Send \xa0",l.a.createElement(q.a,null,"send")))))}}]),t}(n.Component),ie=a(31),oe=a.n(ie),re=a(32),ce=a.n(re),se=a(34),ue=a.n(se),me=a(33),he=a.n(me),de=a(37),pe=a.n(de),ve=a(49),fe=a.n(ve),Ee=a(50),ge=a.n(Ee),be=a(134),ye=a.n(be),Ce=a(38),Se=a.n(Ce),je=a(39),Oe=a.n(je),ke=a(40),we=a.n(ke),Te="http://localhost:5000/content-dev/actionservice/";function De(e){return{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}}function _e(e,t){console.log("CHANGE user status");var a=De({id:e,status:t});return fetch(Te+"actions/changestatus",a).then(function(e){return e.json()})}function Ae(e){console.log("GET actions");var t={credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}};return fetch(Te+"actions/status/".concat(e),t).then(function(e){return e.json()})}a(309);var Ie="http://localhost:5000/content/applicationservice/";function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={credentials:"include",method:e,headers:{"Content-Type":"application/json"}};return"GET"!==e&&(a.body=JSON.stringify(t)),a}var Le="http://localhost:5000/content/appliservice/";function Me(){var e=Ne("GET");return fetch(Le+"applis",e).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}function We(e){console.log("DELETE appli");var t={credentials:"include",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"},body:JSON.stringify({Id:e})};return fetch(Le+"applis/delete",t).then(function(e){return console.log(e),e.json()})}var Ge=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={label:"",priority:"Low",file:"",closingTime:"",comment:"",creatorId:1,actionTakerId:0,applicationId:"Application",applicationLabel:"Application",applis:[]},a.addAction=function(e){return function(e){console.log("POST action"),console.log(JSON.stringify(e));var t=De(e);return fetch(Te+"actions/add",t).then(function(e){return console.log(e),e.json()})}(e).then(function(e){return console.log("POST lan\xe7\xe9"),e})},a.handleSubmit=function(e){e.preventDefault();var t={label:a.state.label,priority:a.state.priority,file:a.state.file,closingTime:a.state.closingTime,comment:a.state.comment,creatorId:a.state.creatorId,actionTakerId:a.state.actionTakerId,applicationId:a.state.applicationId};a.addAction(t).then(function(e){a.props.onSubmit(e)}),a.setState({label:"",priority:"Low",file:"",closingTime:"",comment:"",creatorId:"",actionTakerId:"",applicationId:"",applicationLabel:""})},a.handleInputChange=function(e){console.log(e.target.name),a.setState(Object(v.a)({},e.target.name,e.target.value))},a.handleAppliChange=function(e){console.log(e.target.value),a.setState({applicationId:e.target.value})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;Me().then(function(t){for(var a in t){var n=t[a];console.log(n);var l=e.state.applis.concat([n]);e.setState({applis:l})}})}},{key:"handleClockChange",value:function(e,t){this.setState({Closing_Time:e})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{id:"container"},l.a.createElement(S.a,null,l.a.createElement(O.a,{id:"addCard"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(g.a,{name:"label",type:"text",fullWidth:!0,margin:"normal",variant:"filled",label:"Action Title",placeholder:"Enter title",value:this.state.label,onChange:this.handleInputChange.bind(this)}),l.a.createElement(g.a,{name:"comment",type:"text",label:"Action Description",placeholder:"Description of the Action",fullWidth:!0,margin:"normal",variant:"filled",value:this.state.comment,onChange:this.handleInputChange.bind(this)}),l.a.createElement(Oe.a,{fullWidth:!0,margin:"normal",variant:"filled"},l.a.createElement(Se.a,null,"Priority"),l.a.createElement(we.a,{name:"priority",value:this.state.priority,onChange:this.handleInputChange.bind(this)},l.a.createElement(J.a,{value:"Low"},"Low"),l.a.createElement(J.a,{value:"Medium"},"Medium"),l.a.createElement(J.a,{value:"Hight"},"Hight"))),l.a.createElement(Oe.a,{fullWidth:!0,margin:"normal",variant:"filled"},l.a.createElement(Se.a,null,"Application"),l.a.createElement(we.a,{name:"applicationId",value:this.state.applicationId,placeholder:this.state.applicationLabel},this.state.applis.map(function(t){return l.a.createElement("div",{key:t._id},l.a.createElement(J.a,{value:t._id,onClick:e.handleAppliChange},t.label))}))),l.a.createElement(g.a,{name:"closingTime",label:"Closing Time",type:"date",value:this.state.closingTime,onChange:this.handleInputChange.bind(this)}),l.a.createElement(y.a,{variant:"contained",color:"primary",onClick:this.handleSubmit.bind(this)},"Submit"))))))}}]),t}(n.Component),Pe=(a(311),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={actions:[],hide:!1},a.handleAdd=function(e){var t=!a.state.hide;a.setState({hide:t})},a.handleSubmitAction=function(e){console.log(e);var t=a.state.actions.concat([e]);a.setState({actions:t})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"displayAdd",value:function(){var e=this;return this.state.hide&&"progress"===this.props.variant?l.a.createElement("div",null,l.a.createElement(y.a,{color:"primary",onClick:function(t){e.setState({hide:!1})}},"Cancel"),l.a.createElement(Ge,{onSubmit:this.handleSubmitAction,actions:this.state.actions})):"progress"===this.props.variant?l.a.createElement(fe.a,{color:"primary","aria-label":"Add",onClick:this.handleAdd.bind(this)},l.a.createElement(ge.a,null)):void 0}},{key:"prom",value:function(e){for(var t in e){var a=e[t];console.log(a);var n=this.state.actions.concat([a]);this.setState({actions:n})}}},{key:"display_actions",value:function(){var e=this;this.setState({actions:[]}),"progress"===this.props.variant?Ae("In Progress").then(function(t){return e.prom(t)}):"done"===this.props.variant&&Ae("Done").then(function(t){return e.prom(t)})}},{key:"suppress_action",value:function(e){var t=this;(function(e){console.log("DELETE action");var t=De({Id:e});return fetch(Te+"actions/delete",t).then(function(e){return console.log(e),e.json()})})(e).then(function(e){t.setState({actions:[]}),t.display_actions()})}},{key:"handleChangeStatus",value:function(e,t,a){console.log(e.target.checked),e.target.checked?_e(t,"Done").then(this.display_actions()):_e(t,"In Progress").then(this.display_actions())}},{key:"componentWillMount",value:function(){this.display_actions()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"action"},l.a.createElement("div",{id:"action-list"},this.state.actions.map(function(t){return l.a.createElement("div",{key:t._id},l.a.createElement(oe.a,{key:t._id},l.a.createElement(ce.a,{expandIcon:l.a.createElement(he.a,null)},l.a.createElement(I.a,null,t.label," \xa0 \xa0 \xa0 \xa0"),l.a.createElement(I.a,null,t.status)),l.a.createElement(ue.a,null,l.a.createElement(I.a,null,t.comment),l.a.createElement(ye.a,{checked:"Done"===t.status,onChange:function(a){return e.handleChangeStatus(a,t._id,t.status)},value:"checkedG"}),l.a.createElement(L.a,{"aria-label":"Delete",variant:"contained",color:"secondary",style:{float:"right"},onClick:function(){return e.suppress_action(t._id)}},l.a.createElement(pe.a,null)))))})),l.a.createElement("div",{id:"action-add"},this.displayAdd()))}}]),t}(n.Component)),xe="http://localhost:5000/content-dev/userservice/";function Je(e){return{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}}function Fe(e,t){console.log("CHANGE user status");var a=Je({id:e,status:t});return fetch(xe+"users/changestatus",a).then(function(e){return e.json()})}a(324);var Ve=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={user:null,actions:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"switchStatus",value:function(){if("admin"===this.state.user.status)return l.a.createElement(k.a,{className:"navLink",to:"/logout"},l.a.createElement(y.a,{variant:"contained"}," Switch status "))}},{key:"render",value:function(){return l.a.createElement("div",{className:"homeGlobal"},l.a.createElement(F,null,l.a.createElement(k.a,{className:"nav-link",to:"/logout"},l.a.createElement(y.a,{variant:"contained",color:"secondary"}," Logout "))),l.a.createElement("div",{className:"switchStatus"}),l.a.createElement("div",{className:"chatList"},l.a.createElement("div",{className:"chat"},l.a.createElement(le,null)),l.a.createElement("div",{className:"progressList"},l.a.createElement(Pe,{variant:"progress"})),l.a.createElement("div",{className:"divider"},l.a.createElement(z.a,null)),l.a.createElement("div",{className:"doneList"},l.a.createElement(Pe,{variant:"done"}))))}}]),t}(n.Component),Be=a(135),Ue=a.n(Be),He=a(137),Ke=a.n(He),ze=a(51),Re=a.n(ze),Qe=a(136),$e=a.n(Qe),qe=a(92),Xe=a.n(qe),Ye="http://localhost:5000/content-dev/vmservice/";function Ze(e){console.log("DELETE vm");var t={credentials:"include",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"},body:JSON.stringify({Id:e})};return fetch(Ye+"vms/delete",t).then(function(e){return console.log(e),e.json()})}a(327);var et=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={Label:"",File:"",Campus:"Paris-Saclay",Comment:""},a.handleSubmit=function(e){e.preventDefault(),function(e){console.log("POST vm"),console.log(JSON.stringify(e));var t={credentials:"include",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"},body:JSON.stringify(e)};return fetch(Ye+"vms/add",t).then(function(e){return console.log(e),e.json()})}(a.state).then(function(e){a.props.onSubmit(e)}),a.setState({Label:"",File:"",Campus:"Paris-Saclay",Comment:""})},a.handleInputChange=function(e){console.log(e.target.name),a.setState(Object(v.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{id:"container"},l.a.createElement(S.a,null,l.a.createElement(O.a,{id:"addCard"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(g.a,{name:"Label",type:"text",fullWidth:!0,margin:"normal",variant:"filled",label:"VM Title",placeholder:"Enter title",value:this.state.Label,onChange:this.handleInputChange.bind(this)}),l.a.createElement(g.a,{name:"Comment",type:"text",label:"VM Description",placeholder:"Description of the VM",fullWidth:!0,margin:"normal",variant:"filled",value:this.state.Comment,onChange:this.handleInputChange.bind(this)}),l.a.createElement(Oe.a,{fullWidth:!0,margin:"normal",variant:"filled"},l.a.createElement(Se.a,null,"Campus"),l.a.createElement(we.a,{name:"Campus",value:this.state.Campus,onChange:this.handleInputChange.bind(this)},l.a.createElement(J.a,{value:"Paris-Saclay"},"Paris-Saclay"),l.a.createElement(J.a,{value:"Rennes"},"Rennes"),l.a.createElement(J.a,{value:"Metz"},"Metz"))),l.a.createElement(g.a,{id:"contained-button-file",multiple:!0,name:"File",type:"file",style:{display:"none"}}),l.a.createElement("label",{htmlFor:"contained-button-file"},l.a.createElement(y.a,{variant:"contained",component:"span",name:"File",type:"file",label:"File",margin:"normal",value:this.state.file,onClick:this.handleInputChange.bind(this)},"Upload"),l.a.createElement(g.a,{name:"File",type:"text",fullWidth:!0,margin:"normal",variant:"filled",placeholder:"File title",value:this.state.file,InputProps:{readOnly:!0}})),l.a.createElement(y.a,{variant:"contained",color:"primary",onClick:this.handleSubmit.bind(this)},"Submit"))))),l.a.createElement("div",{id:"container"},l.a.createElement(Ue.a,null,l.a.createElement($e.a,null,l.a.createElement(Xe.a,null,l.a.createElement(Re.a,null,"Vm Title"),l.a.createElement(Re.a,null,"File"),l.a.createElement(Re.a,null,"Campus"))),l.a.createElement(Ke.a,null,l.a.createElement(Xe.a,null,l.a.createElement(Re.a,null,this.state.Label),l.a.createElement(Re.a,null,this.state.File),l.a.createElement(Re.a,null,this.state.Campus))))))}}]),t}(n.Component),tt=(a(334),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={vms:[],hide:!1},a.handleAdd=function(e){var t=!a.state.hide;a.setState({hide:t})},a.handleSubmitVm=function(e){console.log(e);var t=a.state.vms.concat([e]);a.setState({vms:t})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"displayAdd",value:function(){var e=this;return this.state.hide?l.a.createElement("div",null,l.a.createElement(y.a,{color:"primary",onClick:function(t){e.setState({hide:!1})}},"Cancel"),l.a.createElement(et,{onSubmit:this.handleSubmitVm,vms:this.state.vms})):l.a.createElement(fe.a,{color:"primary","aria-label":"Add",onClick:this.handleAdd.bind(this)},l.a.createElement(ge.a,null))}},{key:"display_vms",value:function(){var e=this;(console.log("GET vms"),fetch(Ye+"vms",{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})).then(function(t){for(var a in t){var n=t[a];console.log(n);var l=e.state.vms.concat([n]);e.setState({vms:l})}})}},{key:"suppress_vm",value:function(e){var t=this;Ze(e).then(function(e){t.setState({vm:[]}),t.display_vms()})}},{key:"componentWillMount",value:function(){this.display_vms()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"vm"},l.a.createElement("div",{id:"vm-list"},this.state.vms.map(function(t){return l.a.createElement("div",{key:t._id},l.a.createElement(oe.a,{key:t._id},l.a.createElement(ce.a,{expandIcon:l.a.createElement(he.a,null)},l.a.createElement(I.a,null,t.Label)),l.a.createElement(ue.a,null,l.a.createElement(I.a,null,t.Comment),l.a.createElement(L.a,{"aria-label":"Delete",variant:"contained",color:"secondary",style:{float:"right"},onClick:function(){return e.suppress_vm(t._id)}},l.a.createElement(pe.a,null)))))})),l.a.createElement("div",{id:"vm-add"},this.displayAdd()))}}]),t}(n.Component)),at=a(73),nt=a.n(at),lt=a(48),it=a.n(lt),ot=(a(336),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={vms:[],term:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=this,a=e.target.value;this.setState({term:a});this.setState({vms:[]}),""!==a&&function(e){return console.log("GET vms by searching"),fetch(Ye+"vms/search/".concat(e),{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})}(a).then(function(e){for(var a in e){var n=e[a],l=t.state.vms.concat([n]);t.setState({vms:l})}})}},{key:"suppress_vm",value:function(e){var t=this;Ze(e).then(function(e){t.setState({vm:[]}),t.display_vms()})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"vm-search"},l.a.createElement("div",{id:"SearchBar"},l.a.createElement("div",null,l.a.createElement(nt.a,null)),l.a.createElement(it.a,{placeholder:"Search\u2026",name:"term",onChange:this.handleChange.bind(this),margin:"normal",value:this.state.term})),this.state.vms.map(function(t){return l.a.createElement("div",{key:t._id},l.a.createElement(oe.a,{key:t._id},l.a.createElement(ce.a,{expandIcon:l.a.createElement(he.a,null)},l.a.createElement(I.a,null,t.Label)),l.a.createElement(ue.a,null,l.a.createElement(I.a,null,t.Comment,"."),l.a.createElement(L.a,{"aria-label":"Delete",variant:"contained",color:"secondary",style:{float:"right"},onClick:function(){return e.suppress_vm(t._id)}},l.a.createElement(pe.a,null)))))}))}}]),t}(n.Component)),rt=(a(338),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={user:null,actions:[]},a.handleLogout=function(e){a.props.history.push("/login")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"home_global"},l.a.createElement(F,null,l.a.createElement(y.a,{variant:"contained",color:"secondary"}," Logout ")),l.a.createElement("div",null,l.a.createElement(ot,null)),l.a.createElement(z.a,null),l.a.createElement("div",{id:"vmlist"},l.a.createElement(tt,null)))}}]),t}(n.Component)),ct=(a(340),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.updateSubDomains=function(e){var t=e.target.value;a.state.selectedDomain=t;var n=a.state.subDomains[t];a.setState({subDomainOptions:n},function(){return a.setState({selectedSubDomain:a.state.subDomainOptions[0]})})},a.state={appCode:"",appLabel:"",appComment:"",campuses:[],selectedCampus:"",domains:[],selectedDomain:"",subDomains:{},selectedSubDomain:"",subDomainOptions:[],newApplication:{appCode:"",appLabel:"",appCampus:"",appDomain:"",appSubDomain:"",comment:""}},a.handleSubmit=a.handleSubmit.bind(Object(f.a)(Object(f.a)(a))),a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"get_campuses",value:function(){var e,t=this;(function(){console.log("get fucking campuses");var e=Ne("GET");return fetch(Ie+"newapp/campuses",e).then(function(e){return e.json()}).catch(function(e){return console.log(e)})})().then(function(t){console.log(t),e=t.campuses}).then(function(){t.setState({campuses:e}),t.setState({selectedCampus:e[0]})})}},{key:"get_domains",value:function(){var e,t=this,a=[],n={};(e=Ne("GET"),fetch(Ie+"newapp/domains",e).then(function(e){return e.json()}).catch(function(e){return console.log(e)})).then(function(e){for(var t in e.domains)a.push(e.domains[t]);n=e.subDomains}).then(function(){t.setState({domains:a,subDomains:n},function(){t.setState({selectedDomain:t.state.domains[1]}),t.setState({subDomainOptions:t.state.subDomains[t.state.domains[1]]},function(){return t.setState({selectedSubDomain:t.state.subDomainOptions[0]})})})})}},{key:"componentWillMount",value:function(){this.get_campuses(),this.get_domains()}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({newApplication:{appCode:this.state.appCode,appLabel:this.state.appLabel,appCampus:this.state.selectedCampus,appDomain:this.state.selectedDomain,appSubDomain:this.state.selectedSubDomain,comment:this.state.appComment}},function(){return(e=t.state.newApplication,a=Ne("POST",e),fetch(Le+"newapp/createapp",a).then(function(e){return e.json()}).catch(function(e){return console.log(e)})).then(function(e){return e.json()}).then(function(e){e.success,alert(e.msg)});var e,a})}},{key:"render",value:function(){var e=this.state.campuses.map(function(e){return l.a.createElement(J.a,{key:e,value:e},e)}),t=this.state.domains.map(function(e){return l.a.createElement(J.a,{key:e,value:e},e)}),a=this.state.subDomainOptions.map(function(e){return l.a.createElement(J.a,{key:e,value:e},e)});return l.a.createElement("div",null,l.a.createElement("div",{id:"container"},l.a.createElement(S.a,null,l.a.createElement(O.a,{id:"addCard"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(g.a,{name:"appCode",type:"text",fullWidth:!0,margin:"normal",variant:"filled",label:"Code de l'application",placeholder:"Enter application code",onChange:this.handleChange,value:this.state.appCode}),l.a.createElement(g.a,{name:"appLabel",type:"text",fullWidth:!0,margin:"normal",variant:"filled",label:"Libell\xe9 de l'application",placeholder:"Enter title",onChange:this.handleChange,value:this.state.appLabel}),l.a.createElement(g.a,{name:"appComment",type:"text",label:"Application Description",placeholder:"Description of the Application",fullWidth:!0,margin:"normal",variant:"filled",onChange:this.handleChange,value:this.state.appComment}),l.a.createElement(Oe.a,{fullWidth:!0,margin:"normal",variant:"filled"},l.a.createElement(Se.a,null,"Campus"),l.a.createElement(we.a,{name:"selectedCampus",value:this.state.selectedCampus,onChange:this.handleChange},e)),l.a.createElement(Oe.a,{fullWidth:!0,margin:"normal",variant:"filled"},l.a.createElement(Se.a,null,"Domain"),l.a.createElement(we.a,{name:"Domain",value:this.state.selectedDomain,onChange:this.updateSubDomains},t)),l.a.createElement(Oe.a,{fullWidth:!0,margin:"normal",variant:"filled"},l.a.createElement(Se.a,null,"Sous domaine"),l.a.createElement(we.a,{name:"selectedSubDomain",value:this.state.selectedSubDomain,onChange:this.handleChange},a)),l.a.createElement(y.a,{variant:"contained",color:"primary",onClick:this.handleSubmit.bind(this)},"Submit"))))))}}]),t}(n.Component)),st=(a(342),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={applis:[],hide:!1},a.handleAdd=function(e){var t=!a.state.hide;a.setState({hide:t})},a.handleSubmitAppli=function(e){console.log(e);var t=a.state.applis.concat([e]);a.setState({applis:t})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"displayAdd",value:function(){var e=this;return this.state.hide?l.a.createElement("div",null,l.a.createElement(y.a,{color:"primary",onClick:function(t){e.setState({hide:!1})}},"Cancel"),l.a.createElement(ct,{onSubmit:this.handleSubmitAppli,applis:this.state.applis})):l.a.createElement(fe.a,{color:"primary","aria-label":"Add",onClick:this.handleAdd.bind(this)},l.a.createElement(ge.a,null))}},{key:"display_applis",value:function(){var e=this;Me().then(function(t){var a=!0,n=!1,l=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var r=i.value;console.log(r);var c=e.state.applis.concat([r]);e.setState({applis:c})}}catch(s){n=!0,l=s}finally{try{a||null==o.return||o.return()}finally{if(n)throw l}}})}},{key:"suppress_appli",value:function(e){var t=this;We(e).then(function(e){t.setState({appli:[]}),t.display_applis()})}},{key:"componentWillMount",value:function(){this.display_applis()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"appli"},l.a.createElement("div",{id:"appli-list"},this.state.applis.map(function(t){return l.a.createElement("div",{key:t._id},l.a.createElement(oe.a,null,l.a.createElement(ce.a,{expandIcon:l.a.createElement(he.a,null)},l.a.createElement(I.a,null,t.Label)),l.a.createElement(ue.a,null,l.a.createElement(I.a,null,t.Comment),l.a.createElement(L.a,{"aria-label":"Delete",variant:"contained",color:"secondary",style:{float:"right"},onClick:function(){return e.suppress_appli(t._id)}},l.a.createElement(pe.a,null)))))})),l.a.createElement("div",{id:"appli-add"},this.displayAdd()))}}]),t}(n.Component)),ut=(a(344),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={applis:[],term:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=this,a=e.target.value;this.setState({term:a});this.setState({applis:[]}),""!==a&&function(e){console.log("GET applis by searching");var t=Ne("GET");return fetch(Le+"applis/search/".concat(e),t).then(function(e){return e.json()})}(a).then(function(e){for(var a in e){var n=e[a],l=t.state.applis.concat([n]);t.setState({applis:l})}})}},{key:"suppress_appli",value:function(e){var t=this;We(e).then(function(e){t.setState({appli:[]}),t.display_applis()})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"appli-search"},l.a.createElement("div",{id:"SearchBar"},l.a.createElement("div",null,l.a.createElement(nt.a,null)),l.a.createElement(it.a,{placeholder:"Search\u2026",name:"term",onChange:this.handleChange.bind(this),margin:"normal",value:this.state.term})),this.state.applis.map(function(t){return l.a.createElement("div",{key:t._id},l.a.createElement(oe.a,{key:t._id},l.a.createElement(ce.a,{expandIcon:l.a.createElement(he.a,null)},l.a.createElement(I.a,null,t.Label)),l.a.createElement(ue.a,null,l.a.createElement(I.a,null,t.Comment,"."),l.a.createElement(L.a,{"aria-label":"Delete",variant:"contained",color:"secondary",style:{float:"right"},onClick:function(){return e.suppress_v(t._id)}},l.a.createElement(pe.a,null)))))}))}}]),t}(n.Component)),mt=(a(346),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={user:null,actions:[]},a.handleLogout=function(e){a.props.history.push("/login")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"home_global"},l.a.createElement(F,null,l.a.createElement(y.a,{variant:"contained",color:"secondary"}," Logout ")),l.a.createElement("div",null,l.a.createElement(ut,null)),l.a.createElement(z.a,null),l.a.createElement("div",{id:"applilist"},l.a.createElement(st,null)))}}]),t}(n.Component)),ht=(a(348),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={users:[],switch:"users"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"displayIngesys",value:function(){var e=this;this.setState({users:[]}),function(e){console.log("GET ingesys");var t={credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}};return fetch(xe+"users/status/".concat(e),t).then(function(e){return e.json()})}("ingesys").then(function(t){for(var a in t){var n=t[a],l=e.state.users.concat([n]);e.setState({users:l})}})}},{key:"displayAll",value:function(){var e=this;this.setState({users:[]}),(console.log("GET users"),fetch(xe+"users",{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})).then(function(t){for(var a in t){var n=t[a];console.log(n);var l=e.state.users.concat([n]);e.setState({users:l})}})}},{key:"handleSwitch",value:function(){if(this.setState({users:[]}),"users"===this.state.switch){this.setState({switch:"ingesys"}),this.displayAll()}else{this.setState({switch:"users"}),this.displayIngesys()}}},{key:"promoteUser",value:function(e,t,a){return"up"===t&&"ingesys"===a?Fe(e,"admin").then(this.displayAll()):"up"===t&&"user"===a?Fe(e,"ingesys").then(this.displayIngesys()):"down"===t&&"ingesys"===a?Fe(e,"user").then(this.displayAll()):"down"===t&&"admin"===a?Fe(e,"ingesys").then(this.displayIngesys()):void 0}},{key:"componentWillMount",value:function(){this.displayIngesys()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"users"},l.a.createElement("div",{className:"view"},l.a.createElement(y.a,{onClick:this.handleSwitch.bind(this)},"See all ",this.state.switch)),l.a.createElement(z.a,null),l.a.createElement("div",{className:"ingesysList"},this.state.users.map(function(t){return l.a.createElement("div",{key:t._id},l.a.createElement(oe.a,null,l.a.createElement(ce.a,{expandIcon:l.a.createElement(he.a,null)},l.a.createElement(I.a,null,t.name," \xa0"),l.a.createElement(I.a,null,"\xa0 ",t.status)),l.a.createElement(ue.a,null,l.a.createElement(I.a,null,t.mail," \xa0 \xa0 \xa0 \xa0"),l.a.createElement(y.a,{onClick:function(a){return e.promoteUser(t._id,"up",t.status)},variant:"contained"}," Promote "),l.a.createElement(y.a,{onClick:function(a){return e.promoteUser(t._id,"down",t.status)},variant:"contained"}," Downgrade "))))})))}}]),t}(n.Component)),dt=(a(350),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={user:null,actions:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"homeGlobal"},l.a.createElement(F,null,l.a.createElement("div",{className:"switch"},l.a.createElement(k.a,{className:"nav-link",to:"/actions"},l.a.createElement(y.a,{variant:"contained"}," Switch status "))),l.a.createElement("div",{className:"logout"},l.a.createElement(k.a,{className:"nav-link",to:"/logout"},l.a.createElement(y.a,{variant:"contained",color:"secondary"}," Logout ")))),l.a.createElement("div",{className:"userList"},l.a.createElement(ht,null)))}}]),t}(n.Component)),pt=function(){return l.a.createElement(h.a,null,l.a.createElement(d.a,{path:"/login/",component:V}),l.a.createElement(H,{path:"/logout/",component:B}),l.a.createElement(H,{path:"/actions/",component:Ve}),l.a.createElement(H,{path:"/vms/",component:rt}),l.a.createElement(H,{path:"/applis/",component:mt}),l.a.createElement(H,{path:"/users/",component:dt}),l.a.createElement(H,{path:"/users/",component:dt}),l.a.createElement(p.a,{from:"/",to:"/login/"}))},vt=(a(352),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500"}),l.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),l.a.createElement(pt,null))}}]),t}(n.Component)),ft=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Et(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var gt=a(356);o.a.render(l.a.createElement(gt.a,null,l.a.createElement(vt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");ft?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Et(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Et(t,e)})}}()}},[[140,2,1]]]);
//# sourceMappingURL=main.5979d7b2.chunk.js.map